{% extends 'base.html' %}
{% block content %}

<!-- Mobile Menu -->
<div 
    x-show="mobileMenuOpen" 
    x-transition.opacity.scale 
    class="fixed inset-0 z-50 bg-black/50 backdrop-blur-sm md:hidden"
    @click="mobileMenuOpen = false">
    <div 
        class="bg-white dark:bg-dark-slate w-4/5 h-full p-6 shadow-2xl transform transition-all duration-300 ease-in-out"
        @click.stop>
        <div class="flex justify-between items-center mb-8">
            <span class="text-2xl font-bold dark:text-white">Channel</span>
            <button @click="mobileMenuOpen = false" class="text-gray-600 dark:text-white hover:text-red-500 transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>
        <nav class="space-y-4">
            <a href="/login" class="block text-gray-600 dark:text-white hover:text-electric-blue transition font-medium p-2 rounded-md">
                Login
            </a>
        </nav>
    </div>
</div>

<div class="min-h-screen flex flex-col relative bg-gradient-to-br from-white to-blue-50 dark:from-deep-navy">
    <!-- Navigation -->
    <nav class="sticky top-0 z-40 bg-white/90 dark:bg-deep-navy/90 backdrop-blur-md shadow-sm">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <div class="w-12 h-12 bg-gradient-primary rounded-full flex items-center justify-center shadow-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z" />
                    </svg>
                </div>
                <span class="text-2xl font-bold dark:text-white">Channel</span>
            </div>
            <div class="hidden md:flex space-x-6 items-center">
                <button 
                    @click="toggleDarkMode()"
                    class="text-gray-600 dark:text-gray-300 hover:text-electric-blue transition p-2 rounded-full">
                    <svg x-show="!darkMode" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z" />
                    </svg>
                    <svg x-show="darkMode" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" />
                    </svg>
                </button>
                <a href="/login" class="bg-gradient-primary text-white px-4 py-2 rounded-full hover:opacity-90 transition shadow-lg">
                    Login
                </a>
            </div>
            <div class="md:hidden">
                <button @click="mobileMenuOpen = true" class="text-gray-600 dark:text-white">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="relative z-10 container mx-auto px-6 py-16 md:py-24 grid md:grid-cols-2 items-center gap-12">
        <div class="space-y-6">
            <div class="bg-gradient-primary inline-block px-4 py-2 rounded-full text-white text-sm font-medium mb-4 shadow-md">
                Secure Communication Reimagined
            </div>
            <h1 class="text-5xl md:text-6xl font-bold mb-6 text-dark-slate dark:text-white leading-tight">
                Enterprise-Grade <br />Messaging Platform
            </h1>
            <p class="text-xl text-gray-600 dark:text-gray-300 mb-10 max-w-xl">
                Combining military-level encryption with an intuitive interface. Protect your conversations across all devices with cutting-edge security.
            </p>
            <div class="flex space-x-4">
                <a href="/register" class="bg-gradient-primary text-white font-bold py-4 px-8 rounded-lg hover:opacity-90 transition shadow-lg">
                    Get Started
                </a>
                <a href="#" class="bg-gray-100 dark:bg-dark-slate text-dark-slate dark:text-white font-bold py-4 px-8 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition shadow-md">
                    Download App
                </a>
            </div>
        </div>
    </header>
</div>

<script type="module">
import { waitForAuthReady } from '/static/js/auth.js';

document.addEventListener('DOMContentLoaded', async () => {
    try {
        const isAuthenticated = await waitForAuthReady();
        if (isAuthenticated) {
            window.location.href = '/chat';
        }
    } catch (error) {
        console.error('Authentication check failed', error);
    }
});
</script>

{% endblock %}
